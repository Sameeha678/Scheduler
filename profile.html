<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #6a5acd;
            --secondary-color: #9370db;
            --accent-color: #ff69b4;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }
        
        body {
            background-color: #f0f2f5;
            background-image: 
                radial-gradient(at 47% 33%, rgba(106, 90, 205, 0.1) 0, transparent 59%), 
                radial-gradient(at 82% 65%, rgba(147, 112, 219, 0.15) 0, transparent 55%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            min-height: 100vh;
        }
        
        .container {
            max-width: 650px;
        }
        
        .profile-wrapper {
            margin-top: 50px;
            margin-bottom: 50px;
            position: relative;
        }
        
        .profile-header {
            background: var(--gradient);
            border-radius: 16px;
            padding: 30px;
            color: white;
            margin-bottom: 20px;
            box-shadow: 0 12px 25px rgba(106, 90, 205, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .profile-header::after {
            content: '';
            position: absolute;
            right: -20px;
            bottom: -40px;
            width: 180px;
            height: 180px;
            background: url('/api/placeholder/180/180');
            border-radius: 50%;
            opacity: 0.1;
        }
        
        .username-title {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .streak-badge {
            display: inline-flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 500;
        }
        
        .flame-icon {
            color: #ffc107;
            margin-right: 8px;
            animation: flame 1.5s ease-in-out infinite alternate;
        }
        
        @keyframes flame {
            0% { transform: scale(1); }
            100% { transform: scale(1.2); }
        }
        
        .section-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 12px;
        }
        
        .section-title {
            font-weight: 600;
            font-size: 1.2rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 10px;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .section-content {
            padding: 5px 0;
        }
        
        .edit-btn {
            min-width: 70px;
            border-radius: 50px;
            font-size: 0.9rem;
            padding: 6px 15px;
            transition: all 0.3s ease;
        }
        
        .btn-edit {
            background: var(--gradient);
            border: none;
            color: white;
        }
        
        .btn-edit:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(106, 90, 205, 0.3);
        }
        
        .btn-save {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            border: none;
            color: white;
        }
        
        .btn-save:hover {
            background: linear-gradient(135deg, #2E7D32, #4CAF50);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
        }
        
        .btn-cancel {
            background: transparent;
            border: 1px solid #ccc;
        }
        
        .btn-cancel:hover {
            background: #f8f9fa;
        }
        
        .time-display {
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }
        
        .time-value {
            background-color: rgba(106, 90, 205, 0.1);
            padding: 8px 15px;
            border-radius: 50px;
            margin: 0 8px;
            font-weight: 500;
        }
        
        .time-edit-container {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .time-input-group {
            max-width: 200px;
            border-radius: 50px;
            overflow: hidden;
        }
        
        .time-input-group .input-group-text {
            background: var(--gradient);
            color: white;
            border: none;
            font-weight: 500;
        }
        
        .time-input {
            border: 1px solid rgba(106, 90, 205, 0.3);
            padding: 10px 15px;
        }
        
        .break-options {
            display: flex;
            gap: 15px;
            justify-content: space-between;
        }
        
        .break-option {
            flex: 1;
            text-align: center;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .break-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .break-option.selected {
            border-color: var(--primary-color);
            background-color: rgba(106, 90, 205, 0.1);
        }
        
        .break-option i {
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .break-short i { color: #4CAF50; }
        .break-medium i { color: #FF9800; }
        .break-long i { color: #F44336; }
        
        .break-option .break-time {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 5px;
        }
        
        .break-display {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--dark-color);
        }
        
        .break-display-icon {
            display: inline-block;
            width: 32px;
            height: 32px;
            line-height: 32px;
            text-align: center;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .break-display-short { background-color: rgba(76, 175, 80, 0.2); color: #4CAF50; }
        .break-display-medium { background-color: rgba(255, 152, 0, 0.2); color: #FF9800; }
        .break-display-long { background-color: rgba(244, 67, 54, 0.2); color: #F44336; }
        
        .stats-box {
            background: white;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .stats-icon {
            width: 50px;
            height: 50px;
            line-height: 50px;
            text-align: center;
            border-radius: 50%;
            margin-right: 15px;
            font-size: 1.5rem;
        }
        
        .streak-icon {
            background: linear-gradient(135deg, #FFC107, #FF9800);
            color: white;
        }
        
        .activity-icon {
            background: linear-gradient(135deg, #03A9F4, #0288D1);
            color: white;
        }
        
        .stats-content {
            flex: 1;
        }
        
        .stats-title {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 5px;
        }
        
        .stats-value {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .activity-date {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-top: 5px;
        }
        
        .last-active-pill {
            display: inline-block;
            padding: 5px 10px;
            background-color: rgba(3, 169, 244, 0.1);
            color: #0288D1;
            border-radius: 50px;
            font-size: 0.85rem;
            margin-top: 8px;
        }
        
        .footer-note {
            text-align: center;
            padding: 20px 0;
            color: #6c757d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile-wrapper">
            <!-- Header with Username and Streak -->
            <div class="profile-header">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="username-title">
                        <i class="fas fa-user-circle me-2"></i>Hello, <span id="username">JohnDoe</span>
                    </div>
                    <div class="streak-badge">
                        <i class="fas fa-fire flame-icon"></i>
                        <span id="streak-count">5</span> day streak
                    </div>
                </div>
            </div>
            
            <!-- Work Time -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-business-time fa-lg"></i>
                        Work Hours
                    </div>
                    <div>
                        <button id="time-preferences-edit" class="btn btn-edit edit-btn">
                            <i class="fas fa-pen me-1"></i> Edit
                        </button>
                        <button id="time-preferences-save" class="btn btn-save edit-btn" style="display: none;">
                            <i class="fas fa-check me-1"></i> Save
                        </button>
                        <button id="time-preferences-cancel" class="btn btn-cancel" style="display: none;">Cancel</button>
                    </div>
                </div>
                
                <!-- View Mode -->
                <div id="time-view-mode" class="section-content time-display">
                    <span class="text-muted">From</span>
                    <span class="time-value" id="start-time-display">09:00 AM</span>
                    <span class="text-muted">to</span>
                    <span class="time-value" id="end-time-display">05:00 PM</span>
                </div>
                
                <!-- Edit Mode -->
                <div id="time-edit-mode" class="section-content time-edit-container" style="display: none;">
                    <div class="input-group time-input-group">
                        <span class="input-group-text">From</span>
                        <input type="time" id="start-time-input" class="form-control time-input" value="09:00">
                    </div>
                    <div class="input-group time-input-group">
                        <span class="input-group-text">To</span>
                        <input type="time" id="end-time-input" class="form-control time-input" value="17:00">
                    </div>
                </div>
            </div>
            
            <!-- Break Preferences -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-mug-hot fa-lg"></i>
                        Break Preferences
                    </div>
                    <div>
                        <button id="break-preferences-edit" class="btn btn-edit edit-btn">
                            <i class="fas fa-pen me-1"></i> Edit
                        </button>
                        <button id="break-preferences-save" class="btn btn-save edit-btn" style="display: none;">
                            <i class="fas fa-check me-1"></i> Save
                        </button>
                        <button id="break-preferences-cancel" class="btn btn-cancel" style="display: none;">Cancel</button>
                    </div>
                </div>
                
                <!-- View Mode -->
                <div id="break-view-mode" class="section-content break-display">
                    <span id="break-display-icon" class="break-display-icon break-display-medium">
                        <i class="fas fa-coffee"></i>
                    </span>
                    <span id="break-display">Medium</span>
                </div>
                
                <!-- Edit Mode -->
                <div id="break-edit-mode" class="section-content break-options" style="display: none;">
                    <div id="break-short" class="break-option break-short">
                        <i class="fas fa-walking"></i>
                        <div>Short</div>
                        <div class="break-time">5-10 min</div>
                    </div>
                    <div id="break-medium" class="break-option break-medium selected">
                        <i class="fas fa-coffee"></i>
                        <div>Medium</div>
                        <div class="break-time">15-20 min</div>
                    </div>
                    <div id="break-long" class="break-option break-long">
                        <i class="fas fa-couch"></i>
                        <div>Long</div>
                        <div class="break-time">30-45 min</div>
                    </div>
                </div>
            </div>
            
            <!-- Stats Section -->
            <div class="d-flex gap-3">
                <!-- Streak Count -->
                <div class="stats-box flex-fill">
                    <div class="stats-icon streak-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="stats-content">
                        <div class="stats-title">Current Streak</div>
                        <div class="stats-value"><span id="streak-count-box">5</span> days</div>
                    </div>
                </div>
                
                <!-- Last Activity -->
                <div class="stats-box flex-fill">
                    <div class="stats-icon activity-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div class="stats-content">
                        <div class="stats-title">Last Activity</div>
                        <div class="stats-value" id="last-task">"Project Update"</div>
                        <div class="activity-date" id="last-date">18th March 2025</div>
                    </div>
                </div>
            </div>
            
            <div class="footer-note mt-4">
                All changes are saved automatically to your profile
                <div class="last-active-pill">
                    <i class="fas fa-check-circle me-1"></i> Profile up to date
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mock user data that would come from the backend
            let userData = {
                username: "JohnDoe",
                workStartTime: "09:00",
                workEndTime: "17:00",
                breakPreference: "medium",
                streakCount: 5,
                lastTask: "Project Update",
                lastDate: "18th March 2025"
            };
            
            // Format time from 24hr to 12hr format
            function formatTimeTo12Hr(time24) {
                let [hours, minutes] = time24.split(':');
                hours = parseInt(hours);
                let period = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12 || 12;
                return `${hours}:${minutes.padStart(2, '0')} ${period}`;
            }
            
            // Update break display icon
            function updateBreakDisplayIcon() {
                const breakIcon = document.getElementById('break-display-icon');
                breakIcon.className = 'break-display-icon';
                breakIcon.classList.add(`break-display-${userData.breakPreference}`);
                
                let iconHTML = '';
                switch(userData.breakPreference) {
                    case 'short':
                        iconHTML = '<i class="fas fa-walking"></i>';
                        break;
                    case 'medium':
                        iconHTML = '<i class="fas fa-coffee"></i>';
                        break;
                    case 'long':
                        iconHTML = '<i class="fas fa-couch"></i>';
                        break;
                }
                breakIcon.innerHTML = iconHTML;
            }
            
            // Initialize UI with data
            function updateUI() {
                document.getElementById('username').textContent = userData.username;
                document.getElementById('start-time-display').textContent = formatTimeTo12Hr(userData.workStartTime);
                document.getElementById('end-time-display').textContent = formatTimeTo12Hr(userData.workEndTime);
                document.getElementById('break-display').textContent = userData.breakPreference.charAt(0).toUpperCase() + userData.breakPreference.slice(1);
                document.getElementById('streak-count').textContent = userData.streakCount;
                document.getElementById('streak-count-box').textContent = userData.streakCount;
                document.getElementById('last-task').textContent = `"${userData.lastTask}"`;
                document.getElementById('last-date').textContent = userData.lastDate;
                
                // Set form input values
                document.getElementById('start-time-input').value = userData.workStartTime;
                document.getElementById('end-time-input').value = userData.workEndTime;
                
                // Set break preference
                document.querySelectorAll('.break-option').forEach(option => {
                    option.classList.remove('selected');
                });
                document.getElementById(`break-${userData.breakPreference}`).classList.add('selected');
                
                // Update break icon
                updateBreakDisplayIcon();
            }
            
            // Add animations when saving
            function showSaveAnimation(sectionId) {
                const section = document.getElementById(sectionId);
                section.style.transition = 'transform 0.3s, box-shadow 0.3s';
                section.style.transform = 'scale(1.02)';
                section.style.boxShadow = '0 15px 30px rgba(0, 0, 0, 0.1)';
                
                setTimeout(() => {
                    section.style.transform = '';
                    section.style.boxShadow = '';
                }, 500);
            }
            
            // Time Preferences Edit Mode
            document.getElementById('time-preferences-edit').addEventListener('click', function() {
                document.getElementById('time-view-mode').style.display = 'none';
                document.getElementById('time-edit-mode').style.display = 'flex';
                document.getElementById('time-preferences-edit').style.display = 'none';
                document.getElementById('time-preferences-save').style.display = 'inline-block';
                document.getElementById('time-preferences-cancel').style.display = 'inline-block';
            });
            
            // Time Preferences Save
            document.getElementById('time-preferences-save').addEventListener('click', function() {
                userData.workStartTime = document.getElementById('start-time-input').value;
                userData.workEndTime = document.getElementById('end-time-input').value;
                
                // In a real app, you would save to the backend here
                console.log('Saving time preferences:', {
                    workStartTime: userData.workStartTime,
                    workEndTime: userData.workEndTime
                });
                
                updateUI();
                showSaveAnimation('time-view-mode');
                
                document.getElementById('time-view-mode').style.display = 'flex';
                document.getElementById('time-edit-mode').style.display = 'none';
                document.getElementById('time-preferences-edit').style.display = 'inline-block';
                document.getElementById('time-preferences-save').style.display = 'none';
                document.getElementById('time-preferences-cancel').style.display = 'none';
            });
            
            // Time Preferences Cancel
            document.getElementById('time-preferences-cancel').addEventListener('click', function() {
                document.getElementById('time-view-mode').style.display = 'flex';
                document.getElementById('time-edit-mode').style.display = 'none';
                document.getElementById('time-preferences-edit').style.display = 'inline-block';
                document.getElementById('time-preferences-save').style.display = 'none';
                document.getElementById('time-preferences-cancel').style.display = 'none';
            });
            
            // Break Preferences Edit Mode
            document.getElementById('break-preferences-edit').addEventListener('click', function() {
                document.getElementById('break-view-mode').style.display = 'none';
                document.getElementById('break-edit-mode').style.display = 'flex';
                document.getElementById('break-preferences-edit').style.display = 'none';
                document.getElementById('break-preferences-save').style.display = 'inline-block';
                document.getElementById('break-preferences-cancel').style.display = 'inline-block';
            });
            
            // Break Options Selection
            document.querySelectorAll('.break-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.break-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
            
            // Break Preferences Save
            document.getElementById('break-preferences-save').addEventListener('click', function() {
                const selectedBreak = document.querySelector('.break-option.selected').id.replace('break-', '');
                userData.breakPreference = selectedBreak;
                
                // In a real app, you would save to the backend here
                console.log('Saving break preference:', {
                    breakPreference: userData.breakPreference
                });
                
                updateUI();
                showSaveAnimation('break-view-mode');
                
                document.getElementById('break-view-mode').style.display = 'block';
                document.getElementById('break-edit-mode').style.display = 'none';
                document.getElementById('break-preferences-edit').style.display = 'inline-block';
                document.getElementById('break-preferences-save').style.display = 'none';
                document.getElementById('break-preferences-cancel').style.display = 'none';
            });
            
            // Break Preferences Cancel
            document.getElementById('break-preferences-cancel').addEventListener('click', function() {
                document.getElementById('break-view-mode').style.display = 'block';
                document.getElementById('break-edit-mode').style.display = 'none';
                document.getElementById('break-preferences-edit').style.display = 'inline-block';
                document.getElementById('break-preferences-save').style.display = 'none';
                document.getElementById('break-preferences-cancel').style.display = 'none';
            });
            
            // Add hover effects to stats boxes
            document.querySelectorAll('.stats-box').forEach(box => {
                box.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.1)';
                });
                
                box.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                    this.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.05)';
                });
            });
            
            // Initialize the UI
            updateUI();
        });
    </script>
</body>
</html>